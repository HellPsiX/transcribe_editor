# transcribe_editor
Whisper Video Transcriber

Добро пожаловать в Whisper Video Transcriber! Этот набор скриптов позволяет транскрибировать аудио/видео файлы и редактировать видео на основе текста с помощью моделей Whisper. Включает три скрипта: transcribe.py, transcribe_gui.py и transcribe_folder.py.

---

### Требования и установка

1. **Системные требования**:
   - ОС: Windows, macOS или Linux.
   - Python 3.7+ (рекомендуется установить через Miniconda).
   - Установленный ffmpeg (добавьте в PATH).

2. **Необходимые библиотеки**:
   - Убедитесь, что у вас установлен Miniconda или Anaconda.
   - Активируйте окружение и установите зависимости:
     - openai-whisper
     - torch
     - tqdm
     - moviepy
     - tkinterdnd2 (для transcribe_gui.py)

3. **Проверка ffmpeg**:
   - Убедитесь, что ffmpeg установлен и доступен в PATH. Без него скрипты не смогут обрабатывать видео.

---

### Описание скриптов

#### 1. transcribe.py
**Описание**: Скрипт для транскрипции одного аудио/видео файла через командную строку.
**Запуск**:
   - Откройте командную строку.
   - Перейдите в папку со скриптом: C:\Users\edend\OneDrive\Рабочий стол\transcribe_editor_folder
   - Активируйте окружение: conda activate base
   - Запустите: C:\Users\edend\miniconda3\python.exe transcribe.py <путь_к_файлу> <имя_модели>
**Параметры**:
   - <путь_к_файлу>: Путь к аудио/видео файлу (например, test.mp4).
   - <имя_модели>: Модель Whisper (tiny, base, small, medium, large, large-v2, large-v3).
**Результат**:
   - Транскрипция и субтитры сохраняются в папке transcribed_texts в той же директории, что и входной файл.

#### 2. transcribe_gui.py
**Описание**: Графический интерфейс для транскрипции и редактирования видео.
**Запуск**:
   - Откройте командную строку.
   - Перейдите в папку со скриптом: C:\Users\edend\OneDrive\Рабочий стол\transcribe_editor_folder
   - Активируйте окружение: conda activate base
   - Запустите: C:\Users\edend\miniconda3\python.exe transcribe_gui.py
**Функциональность**:
   - Перетащите файл или выберите его через кнопку "Выбрать файл".
   - Выберите модель Whisper (с указанием размера и требований к ресурсам).
   - Нажмите "Создать субтитры" для генерации транскрипции и субтитров.
   - Нажмите "Редактировать видео", чтобы открыть текстовый редактор:
     - Удалите ненужные слова или фразы.
     - Нажмите "ОК" для создания нового видео без удаленных фрагментов.
   - Используйте кнопки:
     - "Текст+Субтитры": открыть папку transcribed_texts.
     - "Видео+Субтитры": открыть папку edited_videos.
     - "?": открыть этот README.txt.
**Результат**:
   - Транскрипция и субтитры: в папке transcribed_texts.
   - Отредактированное видео и субтитры: в папке edited_videos.

#### 3. transcribe_folder.py
**Описание**: Скрипт для пакетной транскрипции всех аудио/видео файлов в указанной папке.
**Запуск**:
   - Откройте командную строку.
   - Перейдите в папку со скриптом: C:\Users\edend\OneDrive\Рабочий стол\transcribe_editor_folder
   - Активируйте окружение: conda activate base
   - Запустите: C:\Users\edend\miniconda3\python.exe transcribe_folder.py <путь_к_папке> <имя_модели>
**Параметры**:
   - <путь_к_папке>: Путь к папке с аудио/видео файлами.
   - <имя_модели>: Модель Whisper (tiny, base, small, medium, large, large-v2, large-v3).
**Результат**:
   - Транскрипция и субтитры для каждого файла сохраняются в подпапке transcribed_texts в указанной папке.

---

### Дополнительные замечания

- **Выбор модели**:
  - tiny: минимальные ресурсы, низкая точность.
  - base: хороший баланс скорости и точности.
  - small/medium/large: выше точность, больше ресурсов.
- **Логи**:
  - Логи операций сохраняются в transcribe_gui.log (для transcribe_gui.py) или выводятся в консоль.
- **Ограничения**:
  - Максимальный размер файла: 1024 МБ.
  - Поддерживаемые форматы: mp3, wav, m4a, flac, ogg, aac, mp4, mov, avi, mkv, webm, mpeg, mpg.
- **Редактирование видео**:
  - Удаляйте слова в текстовом редакторе, чтобы вырезать соответствующие фрагменты из видео.
  - Не удаляйте весь текст, оставьте хотя бы одно слово.

---

### Устранение неполадок

- **ffmpeg не найден**:
  - Установите ffmpeg и добавьте его в PATH.
- **Процесс зависает**:
  - Проверьте transcribe_gui.log или консольный вывод.
  - Убедитесь, что видео не слишком большое и есть достаточно оперативной памяти.
- **Ошибка загрузки модели**:
  - Проверьте подключение к интернету (модели загружаются автоматически).
  - Убедитесь, что у вас достаточно места на диске.

Если возникнут вопросы, обратитесь к этому файлу или напишите в поддержку.